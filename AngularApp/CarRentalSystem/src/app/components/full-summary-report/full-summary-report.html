<div class="summary-container" *ngIf="!error">
  <div class="print-bar">
    <h2 class="summary-title">System Summary Report</h2>
    <button class="print-button" (click)="printReport()" [disabled]="!summary.users">üñ®Ô∏è Download PDF</button>

  </div>

  <div id="print-section">
    
    
    <div class="summary-grid">
      <div class="summary-card">
        <h3>Total Users</h3>
        <p>{{ summary.totalUsers }}</p>
      </div>
      <div class="summary-card">
        <h3>Total Cars</h3>
        <p>{{ summary.totalCars }}</p>
      </div>
      <div class="summary-card">
        <h3>Available Cars</h3>
       <p>{{ summary.availableCarsCount }}</p>
      </div>
      <div class="summary-card">
        <h3>Cars on Trip</h3>
       <p>{{ summary.carsOnTripCount }}</p>
      </div>
      <div class="summary-card">
        <h3>Total Bookings</h3>
        <p>{{ summary.totalBookings }}</p>
      </div>
      <div class="summary-card">
        <h3>Total Revenue</h3>
        <p>‚Çπ{{ summary.totalRevenue | number:'1.0-2' }}</p>
      </div>
    </div>

 
    
    <h3>All Users</h3>
    <table class="data-table" *ngIf="summary.users?.length > 0">
      <thead>
        <tr>
          <th>ID</th><th>Name</th><th>Email</th><th>Role</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of summary.users">
          <td>{{ user.uid }}</td>
          <td>{{ user.name }}</td>
          <td>{{ user.email }}</td>
          <td>{{ user.role }}</td>
        </tr>
      </tbody>
    </table>

  
    <h3>All Cars</h3>
    <table class="data-table" *ngIf="summary.cars?.length > 0">
      <thead>
        <tr>
          <th>ID</th><th>Make</th><th>Model</th><th>Location</th><th>Status</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let car of summary.cars">
          <td>{{ car.id }}</td>
          <td>{{ car.make }}</td>
          <td>{{ car.model }}</td>
          <td>{{ car.location }}</td>
          <td>{{ car.status }}</td>
        </tr>
      </tbody>
    </table>

    
    <h3>All Bookings</h3>
    <table class="data-table" *ngIf="summary.bookings?.length > 0">
      <thead>
        <tr>
          <th>ID</th><th>User ID</th><th>Car ID</th><th>Status</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let booking of summary.bookings">
          <td>{{ booking.id }}</td>
          <td>{{ booking.user?.uid }}</td>
          <td>{{ booking.car?.id }}</td>
          <td>{{ booking.status }}</td>
        </tr>
      </tbody>
    </table>

    
    <h3>All Payments</h3>
    <table class="data-table" *ngIf="summary.payments?.length > 0">
      <thead>
        <tr>
          <th>ID</th><th>Amount</th><th>Booking ID</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let payment of summary.payments">
          <td>{{ payment.id }}</td>
          <td>‚Çπ{{ payment.amount }}</td>
          <td>{{ payment.booking?.id }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<div *ngIf="error" class="error">{{ error }}</div>
